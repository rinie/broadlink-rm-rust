# broadlink-rm-rust
Broadlink RM in Rust based on broadlink-rust
https://github.com/vdebergue/broadlink-rust

That uses SP1, I have RM2 Pro and Mini
encryption changed to no padding
using openssl...

# PSI approach

>Time [
	(121, 5), (152, 2), (182, 2), (213, 82), (243, 309), (274, 51), (304, 1), (456, 1), 
	(669, 9), (700, 192), (730, 214), (761, 11), 
	(1218, 2), 
	(5786, 1), (6151, 1), (6699, 1), (7400, 4), (7430, 11), (45680, 1)]
>Count [(243, 309), (730, 214), (700, 192), (213, 82), (274, 51), (7430, 11), (761, 11), (669, 9), (121, 5), (7400, 4), (1218, 2), (182, 2), (152, 2), (45680, 1), (6699, 1), (6151, 1), (5786, 1), (456, 1), (304, 1)]

>243 and 730 peaks. 0 and 1?
0: (243, 309), (213, 82), (274, 51), (121, 5), (182, 2), (152, 2), (456, 1), (304, 1)
1: (730, 214), (700, 192), (761, 11), (669, 9), 
? (1218, 2)
(7430, 11), (7400, 4), (6699, 1), (6151, 1), (5786, 1)


>Signaltype ook433 b2 Repeat 4 PSC 900 len 904 
Frequency {243: 309, 761: 11, 7400: 4, 304: 1, 669: 9, 456: 1, 152: 2, 121: 5, 1218: 2, 45680: 1, 7430: 11, 5786: 1, 182: 2, 6699: 1, 700: 192, 730: 214, 213: 82, 6151: 1, 274: 51} 
Micros [
	700, 243, 730, 700, 243, 700, 243, 243, 730, 213, 730, 730, 243, 243, 700, 243, 730, 243, 700, 274, 700, 243, 700, 730, 213, 274, 700, 243, 700, 274, 700, 730, 213, 243, 700, 730, 243, 243, 7430, 
	730, 213, 730, 243, 243, 700, 730, 243, 243, 700, 243, 730, 243, 700, 730, 243, 700, 243, 243, 700, 274, 700, 700, 274, 213, 730, 243, 700, 274, 700, 243, 730, 213, 730, 700, 243, 243, 730, 243, 700, 243, 730, 700, 243, 274, 669, 730, 243, 243, 7430, 
	700, 243, 730, 243, 213, 730, 730, 243, 243, 700, 243, 730, 213, 730, 730, 213, 730, 243, 243, 730, 213, 730, 700, 274, 213, 730, 243, 700, 243, 730, 243, 700, 243, 700, 730, 243, 243, 730, 243, 700, 243, 700, 730, 243, 243, 730, 700, 213, 274, 7400, 
	730, 243, 700, 274, 243, 700, 700, 243, 274, 669, 274, 700, 274, 669, 761, 213, 730, 243, 243, 700, 243, 730, 730, 213, 243, 700, 274, 700, 243, 730, 243, 700, 274, 669, 730, 243, 243, 700, 243, 730, 243, 700, 730, 213, 243, 730, 730, 243, 243, 5786, 
	121, 1218, 304, 
	730, 243, 730, 213, 243, 730, 730, 213, 243, 730, 213, 730, 243, 730, 730, 213, 730, 243, 213, 730, 243, 730, 700, 243, 213, 730, 243, 730, 243, 700, 243, 730, 243, 700, 730, 213, 274, 700, 243, 700, 243, 730, 700, 274, 213, 730, 730, 213, 243, 7430, 
	730, 213, 761, 213, 243, 700, 730, 243, 243, 700, 243, 730, 243, 700, 730, 243, 730, 213, 243, 730, 243, 700, 730, 243, 243, 700, 243, 700, 243, 730, 243, 700, 274, 700, 730, 213, 243, 730, 243, 700, 243, 730, 730, 213, 243, 730, 730, 213, 243, 7430, 
	700, 243, 730, 243, 243, 700, 730, 243, 243, 700, 243, 700, 274, 700, 730, 213, 761, 213, 243, 700, 274, 700, 730, 243, 213, 730, 243, 700, 243, 730, 243, 700, 243, 700, 730, 243, 243, 700, 274, 700, 243, 700, 761, 213, 243, 700, 730, 243, 243, 7430, 
	700, 243, 730, 243, 213, 730, 700, 274, 213, 700, 274, 700, 243, 700, 761, 213, 730, 243, 243, 700, 243, 730, 700, 243, 243, 730, 213, 730, 274, 669, 243, 730, 243, 700, 730, 243, 243, 700, 274, 700, 243, 700, 761, 213, 243, 700, 730, 243, 243, 7430, 
	700, 213, 730, 243, 243, 730, 700, 243, 243, 730, 243, 700, 243, 730, 700, 243, 700, 274, 243, 700, 243, 730, 700, 243, 243, 700, 274, 700, 243, 700, 243, 730, 243, 700, 730, 243, 213, 730, 243, 730, 213, 730, 730, 243, 243, 700, 730, 213, 243, 7430, 
	730, 243, 700, 243, 243, 700, 730, 243, 243, 700, 243, 730, 243, 700, 730, 243, 700, 243, 243, 730, 243, 700, 730, 243, 213, 730, 243, 730, 243, 700, 243, 700, 243, 730, 730, 213, 243, 730, 243, 700, 243, 730, 730, 213, 243, 730, 700, 243, 243, 7430, 
	730, 213, 730, 243, 243, 700, 730, 213, 274, 700, 243, 700, 274, 700, 730, 243, 700, 243, 274, 700, 243, 700, 730, 243, 243, 700, 243, 700, 243, 730, 243, 700, 274, 700, 730, 213, 274, 700, 243, 700, 243, 700, 730, 243, 243, 730, 700, 243, 243, 7400, 
	730, 243, 730, 243, 213, 730, 700, 274, 213, 730, 243, 700, 243, 730, 730, 213, 730, 243, 213, 730, 243, 730, 730, 213, 243, 730, 243, 700, 243, 700, 274, 700, 243, 700, 761, 213, 243, 700, 274, 700, 243, 700, 730, 243, 243, 700, 730, 243, 243, 7400, 
	730, 243, 700, 243, 243, 700, 730, 243, 243, 730, 213, 730, 243, 730, 730, 213, 730, 213, 243, 730, 243, 700, 730, 243, 243, 700, 243, 730, 243, 700, 243, 730, 243, 700, 730, 243, 243, 700, 243, 730, 213, 730, 730, 243, 213, 730, 700, 274, 213, 7430, 
	730, 213, 730, 243, 243, 700, 730, 243, 243, 700, 274, 700, 243, 700, 730, 243, 700, 274, 243, 669, 274, 700, 730, 243, 243, 182, 121, 456, 243, 730, 243, 700, 243, 730, 213, 730, 730, 213, 274, 700, 243, 700, 243, 730, 700, 274, 213, 730, 730, 213, 243, 6151, 
	121, 1218, 
	730, 213, 730, 243, 243, 700, 730, 243, 243, 700, 243, 700, 274, 700, 730, 243, 700, 243, 243, 730, 243, 700, 730, 213, 274, 700, 243, 700, 274, 700, 243, 730, 243, 700, 730, 213, 243, 730, 243, 700, 274, 700, 700, 243, 243, 730, 700, 243, 243, 7430, 
	730, 213, 761, 213, 243, 700, 730, 213, 243, 730, 243, 700, 243, 730, 730, 213, 730, 243, 243, 700, 274, 669, 761, 213, 243, 730, 243, 700, 243, 730, 243, 700, 243, 700, 730, 243, 243, 730, 213, 730, 243, 700, 761, 121, 152, 243, 730, 700, 243, 243, 7430, 
	700, 243, 730, 213, 274, 700, 700, 274, 243, 700, 243, 700, 243, 730, 700, 243, 730, 213, 274, 700, 243, 700, 730, 243, 243, 669, 121, 182, 730, 243, 700, 243, 730, 243, 700, 730, 243, 243, 700, 243, 730, 243, 700, 730, 243, 243, 700, 730, 243, 243, 7400, 
	730, 243, 700, 243, 243, 700, 730, 274, 213, 730, 243, 700, 274, 669, 730, 243, 730, 243, 213, 730, 243, 700, 761, 213, 243, 700, 243, 730, 243, 700, 243, 730, 243, 700, 730, 243, 243, 700, 243, 730, 213, 730, 730, 243, 243, 700, 730, 213, 243, 45680, 
	152, 6699]

# current node pulsespaceindex analysis
>   psiv ps datax b4b2ab2b3-00 38 0 38 10110100101100101010101100101011001100 +1ms
  psiv ps header 61 datax 4cad2caacacc 48 38 88 010011001010110100101100101010101100101011001100 +1ms
  psiv ps header 61 datax 4cad2caacacc 48 88 138 010011001010110100101100101010101100101011001100 +0ms
  psiv ps header 60 datax a65696556566 trailer 03 48 138 190 101001100101011010010110010101010110010101100110 +1ms
  psiv ps header 02 datax 532b4b2ab2b3-00 50 190 242 01010011001010110100101100101010101100101011001100 +0ms
  psiv ps header 61 datax 4cad2caacacc 48 242 292 010011001010110100101100101010101100101011001100 +1ms
  psiv ps header 61 datax 4cad2caacacc 48 292 342 010011001010110100101100101010101100101011001100 +1ms
  psiv ps header 61 datax 4cad2caacacc 48 342 392 010011001010110100101100101010101100101011001100 +0ms
  psiv ps header 61 datax 4cad2caacacc 48 392 442 010011001010110100101100101010101100101011001100 +1ms
  psiv ps header 61 datax 4cad2caacacc 48 442 492 010011001010110100101100101010101100101011001100 +1ms
  psiv ps header 61 datax 4cad2caacacc 48 492 542 010011001010110100101100101010101100101011001100 +1ms
  psiv ps header 61 datax 4cad2caacacc 48 542 592 010011001010110100101100101010101100101011001100 +0ms
  psiv ps header 61 datax 4cad2caacacc 48 592 642 010011001010110100101100101010101100101011001100 +4ms
  psiv ps header 61 datax 4cad2c0ab2b3-00 50 642 694 01001100101011010010110000001010101100101011001100 +1ms
  psiv ps header 4021 datax 4cad2caacacc 48 694 746 010011001010110100101100101010101100101011001100 +1ms
  psiv ps header 61 datax 4cad2caacac6 trailer 06 48 746 798 010011001010110100101100101010101100101011000110 +1ms
  psiv ps datax a656964ab2b3-00 50 798 848 10100110010101101001011001001010101100101011001100 +0ms
  psiv ps header 61 datax 4cad2caacacc 48 848 898 010011001010110100101100101010101100101011001100 +1ms
  psiv ps header 70 datax  0 898 900  +0ms
  psiv ps datax  0 900 900  +1ms
901 239,716,1218,5786,6151,6699,7422,45680 '001107:xb4b2ab2b3-0061x4cad2caacacc-61x4cad2caacacc-60xa65696556566-0302x532b4b2ab2b3-0061x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2c0ab2b3-004021x4cad2caacacc-61x4cad2caacac6-06xa656964ab2b3-0061x4cad2caacacc-70' pilight:rust_broadlink

>  psi PulseSpaceIndex {
  psi   signalType: 'pilight:rust_broadlink',
  psi   frameCount: 2,
  psi   count: 901,
  psi   micros: [
  psi      239,   716, 1218,
  psi     5786,  6151, 6699,
  psi     7422, 45680
  psi   ],
  psi   counts: [
  psi     { i: 0, t: 239, ct: [ 173, 281, 454 ], p: 0, s: 0 },
  psi     { i: 1, t: 716, ct: [ 260, 166, 426 ], p: 1, s: 1 },
  psi     { i: 2, t: 1218, ct: [ 1, 1, 2 ] },
  psi     { i: 3, t: 5786, ct: [ 0, 1, 1 ] },
  psi     { i: 4, t: 6151, ct: [ 1, 0, 1 ] },
  psi     { i: 5, t: 6699, ct: [ 1, 0, 1 ] },
  psi     { i: 6, t: 7422, ct: [ 14, 1, 15 ] },
  psi     { i: 7, t: 45680, ct: [ 1, 0, 1 ], dx: [ 449, 0, 898 ] }
  psi   ],
  psi   ps01f: '001107',
  psi   psx: '001107:xb4b2ab2b3-0061x4cad2caacacc-61x4cad2caacacc-60xa65696556566-0302x532b4b2ab2b3-0061x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2caacacc-61x4cad2c0ab2b3-004021x4cad2caacacc-61x4cad2caacac6-06xa656964ab2b3-0061x4cad2caacacc-70',
  psi   psi: '1011010010110010101010110010101100110061010011001010110100101100101010101100101011001100610100110010101101001011001010101011001010110011006010100110010101101001011001010101011001010110011003020101001100101011010010110010101010110010101100110061010011001010110100101100101010101100101011001100610100110010101101001011001010101011001010110011006101001100101011010010110010101010110010101100110061010011001010110100101100101010101100101011001100610100110010101101001011001010101011001010110011006101001100101011010010110010101010110010101100110061010011001010110100101100101010101100101011001100610100110010101101001011001010101011001010110011006101001100101011010010110000001010101100101011001100402101001100101011010010110010101010110010101100110061010011001010110100101100101010101100101011000110061010011001010110100101100100101010110010101100110061010011001010110100101100101010101100101011001100705',
  psi   pi: '1100110111110111010600101110011011111011101060010111001101111101110106110100011001000001000101000001011100110111110111010600101110011011111011101060010111001101111101110106001011100110111110111010600101110011011111011101060010111001101111101110106001011100110111110111010600101110011011111011101060010111001101111101110106001011100110001111011101042001011100110111110111010600101110011011111011100101101000110010011110111010600101110011011111011101075',
  psi   si: '011001000001000101011010001100100000100010101101000110010000010001010000101110011011111011101032110100011001000001000101011010001100100000100010101101000110010000010001010110100011001000001000101011010001100100000100010101101000110010000010001010110100011001000001000101011010001100100000100010101101000110010000010001010110100011001000000100010100110100011001000001000101011010001100100000100010106001011100110100001000101011010001100100000100010100'
  psi } +18ms
  psim microsToPsi  pilight:rust_broadlink2 730 213 730 243 243 700 730 243 243 700 243 730 243 700 730 243 700 243 243 700 274 700 700 274 213 730 243 700 274 700 243 730 213 730 700 243 243 730 243 700 243 730 700 243 274 669 730 243 243 7430 +32ms
  psiv ps01fCounts [ 0, 0, 1, 1, 2, 2 ] [ 16, 9, 9, 15, 0, 1 ] +11ms
  psiv frameSplits 50 16 0 0 0 0 0 1 +1ms
  psi ps01f 001102 0011 50 +12ms
  psiv psix 001102 {
  sx: '001102:',
  hexMode: false,
  constantMode: false,
  data0: [ '0', '0' ],
  data1: [ '1', '1' ],
  dataType: 'ps',
  start: 0,
  end: 50
} +2ms
  psiv ps datax a65696556566 trailer 02 48 0 50 101001100101011010010110010101010110010101100110 +0ms
50 245,713,7430 '001102:xa65696556566-02' pilight:rust_broadlink2

>  psi PulseSpaceIndex {
  psi   signalType: 'pilight:rust_broadlink2',
  psi   frameCount: 1,
  psi   count: 50,
  psi   micros: [ 245, 713, 7430 ],
  psi   counts: [
  psi     { i: 0, t: 245, ct: [ 16, 9, 25 ], p: 0, s: 0 },
  psi     { i: 1, t: 713, ct: [ 9, 15, 24 ], p: 1, s: 1 },
  psi     { i: 2, t: 7430, ct: [ 0, 1, 1 ], dx: [ 0, 49, 49 ] }
  psi   ],
  psi   ps01f: '001102',
  psi   psx: '001102:xa65696556566-02',
  psi   psi: '10100110010101101001011001010101011001010110011002',
  psi   pi: '1101000110010000010001010',
  psi   si: '0010111001101111101110102'
  psi } +3ms
  psim microsToPsi  pilight:rust_broadlink3 730 243 730 213 243 730 730 213 243 730 213 730 243 730 730 213 730 243 213 730 243 730 700 243 213 730 243 730 243 700 243 730 243 700 730 213 274 700 243 700 243 730 700 274 213 730 730 213 243 7430  730 213 761 213 243 700 730 243 243 700 243 730 243 700 730 243 730 213 243 730 243 700 730 243 243 700 243 700 243 730 243 700 274 700 730 213 243 730 243 700 243 730 730 213 243 730 730 213 243 7430 700 243 730 243 243 700 730 243 243 700 243 700 274 700 730 213 761 213 243 700 274 700 730 243 213 730 243 700 243 730 243 700 243 700 730 243 243 700 274 700 243 700 761 213 243 700 730 243 243 7430 700 243 730 243 213 730 700 274 213 700 274 700 243 700 761 213 730 243 243 700 243 730 700 243 243 730 213 730 274 669 243 730 243 700 730 243 243 700 274 700 243 700 761 213 243 700 730 243 243 7430 +10ms
  psiv ps01fCounts [ 0, 0, 1, 1, 2, 2 ] [ 44, 57, 54, 42, 3, 1 ] +5ms
  psiv FrameSplit 50 0 50 0 0 1 +1ms
  psiv FrameSplit 100 50 50 0 0 1 +0ms
  psiv FrameSplit 150 100 50 1 0 1 +1ms
  psiv FrameSplit 200 150 50 2 0 1 +1ms
  psiv frameSplits 201 50 200 4 0 3 0 1 +1ms
  psi ps01f 001122 0011 201 +8ms
  psiv psix 001122 {
  sx: '001122:',
  hexMode: false,
  constantMode: false,
  data0: [ '0', '0' ],
  data1: [ '1', '1' ],
  dataType: 'ps',
  start: 0,
  end: 201
} +5ms

>  psiv ps datax a65696556566 trailer 02 48 0 50 101001100101011010010110010101010110010101100110 +2ms
  psiv ps datax 532b4b2ab2b3-00 50 50 100 01010011001010110100101100101010101100101011001100 +1ms
  psiv ps header 21 datax 4cad2caacacc 48 100 150 010011001010110100101100101010101100101011001100 +0ms
  psiv ps header 21 datax 4cad2caacacc 48 150 200 010011001010110100101100101010101100101011001100 +1ms
  psiv ps datax  0 200 200  +1ms
201 236,718,7430 '001122:xa65696556566-02x532b4b2ab2b3-0021x4cad2caacacc-21x4cad2caacacc' pilight:rust_broadlink3
  psi PulseSpaceIndex {
  psi   signalType: 'pilight:rust_broadlink3',
  psi   frameCount: 5,
  psi   count: 201,
  psi   micros: [ 236, 718, 7430 ],
  psi   counts: [
  psi     { i: 0, t: 236, ct: [ 44, 57, 101 ], p: 0, s: 0 },
  psi     { i: 1, t: 718, ct: [ 54, 42, 96 ], p: 1, s: 1 },
  psi     { i: 2, t: 7430, ct: [ 3, 1, 4 ], dx: [ 25, 25, 50 ] }
  psi   ],
  psi   ps01f: '001122',
  psi   psx: '001122:xa65696556566-02x532b4b2ab2b3-0021x4cad2caacacc-21x4cad2caacacc',
  psi   psi: '101001100101011010010110010101010110010101100110020101001100101011010010110010101010110010101100110021010011001010110100101100101010101100101011001100210100110010101101001011001010101011001010110011002',
  psi   pi: '11010001100100000100010100001011100110111110111010200101110011011111011101020010111001101111101110102',
  psi   si: '0010111001101111101110102110100011001000001000101011010001100100000100010101101000110010000010001010'
  psi } +10ms

